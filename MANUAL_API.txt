A API Clearview Vista é uma interface de programação desenvolvida em Flask que fornece dados financeiros e análise técnica de ativos da bolsa de valores, incluindo ações, criptomoedas, moedas, ETFs e fundos. Ela utiliza a biblioteca yfinance para buscar informações em tempo real e históricas, processa dados através de um arquivo CSV com mapeamento de tickers e nomes de empresas brasileiras, e oferece endpoints para pesquisa de ativos, obtenção de dados detalhados e geração de gráficos de preços. A API inclui sistema de cache para melhor performance, suporte a múltiplos tipos de ativos, formatação automática de valores e geração de imagens de gráficos em base64 para fácil integração com frontend web. Para utilizar, basta instalar as dependências necessárias (Flask, yfinance, pandas, matplotlib, etc.), executar o servidor e fazer requisições HTTP para os endpoints disponíveis, passando os parâmetros apropriados como tickers ou nomes de ativos e períodos desejados para análise gráfica.A API Clearview Vista é bem simples de usar. Primeiro você precisa ter certeza que todas as bibliotecas estão instaladas - rode no terminal: pip install flask flask-cors matplotlib pandas yfinance requests pytz python-dateutil. Depois é só executar o arquivo Python que vai iniciar o servidor local na porta 5000.

Com o servidor rodando, você pode fazer várias consultas pela URL do navegador ou por ferramentas como Postman. Para buscar uma empresa, use: http://localhost:5000/api/pesquisar/nome_da_empresa - troque "nome_da_empresa" por Petrobras, Vale, ou qualquer outra. A API vai retornar os códigos de ticker correspondentes.

Para pegar todos os dados de um ativo específico, use: http://localhost:5000/api/dados/TICKER_AQUI - substitua pelo ticker real como PETR4.SA ou BTC-USD. Isso vai te dar preço atual, variação, volume, indicadores fundamentalistas e todas as informações disponíveis.

Se quiser gerar um gráfico do histórico de preços, acesse: http://localhost:5000/api/grafico/TICKER_AQUI?periodo=1y - você pode mudar o período para 5d, 1m, 6m, 1y, 5y ou max. O sistema vai retornar uma imagem em formato base64 que você pode exibir diretamente no seu site.

A API entende tanto nomes de empresas quanto códigos de ticker, funciona para ações brasileiras (que terminam com .SA), moedas como BRL=X, criptomoedas como BTC-USD, e outros tipos de ativos. Todos os retornos são em formato JSON fácil de interpretar programaticamente.